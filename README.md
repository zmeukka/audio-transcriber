# Audio Transcriber

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ –∞—É–¥–∏–æ—Ñ–∞–π–ª–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º WhisperX.
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä—É—Å—Å–∫–∏–π –∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫–∏ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ç–æ—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è.

## üöÄ –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### Windows (PowerShell)
```powershell
.\setup_environment.ps1
```

### Ubuntu 24.04 / Linux
```bash
chmod +x setup_environment_ubuntu.sh
./setup_environment_ubuntu.sh
```

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:
- **Windows:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ PowerShell –∏ `setup_environment.ps1`
- **Ubuntu:** –°–º. [README_UBUNTU.md](README_UBUNTU.md) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### Windows
```powershell
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–æ–¥–∏–Ω —Ä–∞–∑)
.\setup_environment.ps1

# –¢–µ—Å—Ç –ø—Ä–æ–≥—Ä–∞–º–º—ã
$env:PYTHONIOENCODING="utf-8"; $env:PYTHONUTF8="1"; python transcriber.py --test

# –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–∞
$env:PYTHONIOENCODING="utf-8"; $env:PYTHONUTF8="1"; python transcriber.py --file input\audio.oga
```

### Ubuntu
```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–æ–¥–∏–Ω —Ä–∞–∑)
./setup_environment_ubuntu.sh

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è
source ./activate_env.sh

# –¢–µ—Å—Ç –ø—Ä–æ–≥—Ä–∞–º–º—ã
python transcriber.py --test

# –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–∞
python transcriber.py --file input/audio.oga
```

## üìÅ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
- `.mp3`, `.wav`, `.m4a`, `.ogg`, `.flac`, `.oga`

### –ö–æ–º–∞–Ω–¥—ã

```bash
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ
python transcriber.py --test

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
python transcriber.py --file input/audio.oga

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –≤ –ø–∞–ø–∫–µ input
python transcriber.py
```

### –ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
```
=== –†–ê–°–®–ò–§–†–û–í–ö–ê –ê–£–î–ò–û–ó–ê–ü–ò–°–ò ===
–§–∞–π–ª: sample.oga
–î–∞—Ç–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏: 2025-10-31 14:10:11
–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 00:00:01
–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –∑–∞–Ω—è–ª–∞: 27.1 seconds

=== –¢–†–ê–ù–°–ö–†–ò–ü–¶–ò–Ø ===
[00:00:00] –¢—ã —Å–∞–∫—Å
```

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Audio_Transcriber/
‚îú‚îÄ‚îÄ transcriber.py                    # –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
‚îú‚îÄ‚îÄ config.yaml                       # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã
‚îú‚îÄ‚îÄ prepare_env.py                    # –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ setup_environment.ps1             # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è Windows
‚îú‚îÄ‚îÄ setup_environment_ubuntu.sh       # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è Ubuntu
‚îú‚îÄ‚îÄ README.md                         # –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ README_UBUNTU.md                  # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è Ubuntu
‚îú‚îÄ‚îÄ technical_specification.md        # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ requirements.txt                  # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ modules/                          # –ú–æ–¥—É–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ audio_processor.py           # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—É–¥–∏–æ —á–µ—Ä–µ–∑ WhisperX
‚îÇ   ‚îú‚îÄ‚îÄ config_loader.py             # –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ file_manager.py              # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ logger.py                    # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ input/                           # –ê—É–¥–∏–æ—Ñ–∞–π–ª—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
‚îú‚îÄ‚îÄ output/                          # –ì–æ—Ç–æ–≤—ã–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
‚îú‚îÄ‚îÄ manual/                          # –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îî‚îÄ‚îÄ models/                          # –ú–æ–¥–µ–ª–∏ WhisperX (–∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞)
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `config.yaml` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:

```yaml
whisperx:
  model_size: "base"           # tiny, base, small, medium, large
  language: "ru"               # ru, en, auto
  temperature: 0.1             # 0.1 = –≤—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å, 0.9 = –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å  
  compute_type: "int8"         # int8, float32, float16
  device: "cpu"                # cpu, cuda

processing:
  max_retry_attempts: 3        # –ü–æ–ø—ã—Ç–∫–∏ –ø—Ä–∏ –æ—à–∏–±–∫–µ
```

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

- **–î–ª—è —Ä—É—Å—Å–∫–æ–π —Ä–µ—á–∏:** `model_size: "base"`, `language: "ru"`, `temperature: 0.1`
- **–î–ª—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–π —Ä–µ—á–∏:** `model_size: "base"`, `language: "en"`, `temperature: 0.1`
- **–î–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏:** `model_size: "tiny"`, `compute_type: "int8"`
- **–î–ª—è –∫–∞—á–µ—Å—Ç–≤–∞:** `model_size: "medium"`, `compute_type: "float32"`
